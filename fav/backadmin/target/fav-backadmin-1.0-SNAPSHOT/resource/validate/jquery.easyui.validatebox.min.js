(function(a){a.parser={auto:true,onComplete:function(b){},plugins:["tooltip","numberbox","validatebox"],parse:function(f){var g=[];for(var b=0;b<a.parser.plugins.length;b++){var e=a.parser.plugins[b];var d=a(".easyui-"+e,f);if(d.length){if(d[e]){d[e]()}else{g.push({name:e,jq:d})}}}if(g.length&&window.easyloader){var c=[];for(var b=0;b<g.length;b++){c.push(g[b].name)}easyloader.load(c,function(){for(var j=0;j<g.length;j++){var h=g[j].name;var k=g[j].jq;k[h]()}a.parser.onComplete.call(a.parser,f)})}else{a.parser.onComplete.call(a.parser,f)}},parseOptions:function(g,f){var k=a(g);var e={};var l=a.trim(k.attr("data-options"));if(l){if(l.substring(0,1)!="{"){l="{"+l+"}"}e=(new Function("return "+l))()}if(f){var d={};for(var c=0;c<f.length;c++){var b=f[c];if(typeof b=="string"){if(b=="width"||b=="height"||b=="left"||b=="top"){d[b]=parseInt(g.style[b])||undefined}else{d[b]=k.attr(b)}}else{for(var j in b){var h=b[j];if(h=="boolean"){d[j]=k.attr(j)?(k.attr(j)=="true"):undefined}else{if(h=="number"){d[j]=k.attr(j)=="0"?0:parseFloat(k.attr(j))||undefined}}}}}a.extend(e,d)}return e}};a(function(){var b=a('<div style="position:absolute;top:-1000px;width:100px;height:100px;padding:5px"></div>').appendTo("body");b.width(100);a._boxModel=parseInt(b.width())==100;b.remove();if(!window.easyloader&&a.parser.auto){a.parser.parse()}});a.fn._outerWidth=function(b){if(b==undefined){if(this[0]==window){return this.width()||document.body.clientWidth}return this.outerWidth()||0}return this.each(function(){if(a._boxModel){a(this).width(b-(a(this).outerWidth()-a(this).width()))}else{a(this).width(b)}})};a.fn._outerHeight=function(b){if(b==undefined){if(this[0]==window){return this.height()||document.body.clientHeight}return this.outerHeight()||0}return this.each(function(){if(a._boxModel){a(this).height(b-(a(this).outerHeight()-a(this).height()))}else{a(this).height(b)}})};a.fn._scrollLeft=function(b){if(b==undefined){return this.scrollLeft()}else{return this.each(function(){a(this).scrollLeft(b)})}};a.fn._propAttr=a.fn.prop||a.fn.attr;a.fn._fit=function(e){e=e==undefined?true:e;var b=this[0];var c=(b.tagName=="BODY"?b:this.parent()[0]);var d=c.fcount||0;if(e){if(!b.fitted){b.fitted=true;c.fcount=d+1;a(c).addClass("panel-noscroll");if(c.tagName=="BODY"){a("html").addClass("panel-fit")}}}else{if(b.fitted){b.fitted=false;c.fcount=d-1;if(c.fcount==0){a(c).removeClass("panel-noscroll");if(c.tagName=="BODY"){a("html").removeClass("panel-fit")}}}}return{width:a(c).width(),height:a(c).height()}}})(jQuery);(function(g){function i(j){g(j).addClass("tooltip-f")}function f(k){var j=g.data(k,"tooltip").options;g(k).unbind(".tooltip").bind(j.showEvent+".tooltip",function(l){a(k,l)}).bind(j.hideEvent+".tooltip",function(l){b(k,l)}).bind("mousemove.tooltip",function(l){if(j.trackMouse){j.trackMouseX=l.pageX;j.trackMouseY=l.pageY;e(k)}})}function d(k){var j=g.data(k,"tooltip");if(j.showTimer){clearTimeout(j.showTimer);j.showTimer=null}if(j.hideTimer){clearTimeout(j.hideTimer);j.hideTimer=null}}function e(l){var j=g.data(l,"tooltip");if(!j||!j.tip){return}var m=j.options;var n=j.tip;if(m.trackMouse){k=g();var p=m.trackMouseX+m.deltaX;var o=m.trackMouseY+m.deltaY}else{var k=g(l);var p=k.offset().left+m.deltaX;var o=k.offset().top+m.deltaY}switch(m.position){case"right":p+=k._outerWidth()+12+(m.trackMouse?12:0);o-=(n._outerHeight()-k._outerHeight())/2;break;case"left":p-=n._outerWidth()+12+(m.trackMouse?12:0);o-=(n._outerHeight()-k._outerHeight())/2;break;case"top":p-=(n._outerWidth()-k._outerWidth())/2;o-=n._outerHeight()+12+(m.trackMouse?12:0);break;case"bottom":p-=(n._outerWidth()-k._outerWidth())/2;o+=k._outerHeight()+12+(m.trackMouse?12:0);break}if(!g(l).is(":visible")){p=-100000;o=-100000}n.css({left:p,top:o,zIndex:(m.zIndex!=undefined?m.zIndex:(g.fn.window?g.fn.window.defaults.zIndex++:""))});m.onPosition.call(l,p,o)}function a(k,n){var j=g.data(k,"tooltip");var l=j.options;var m=j.tip;if(!m){m=g('<div tabindex="-1" class="tooltip"><div class="tooltip-content"></div><div class="tooltip-arrow-outer"></div><div class="tooltip-arrow"></div></div>').appendTo("body");j.tip=m;c(k)}m.removeClass("tooltip-top tooltip-bottom tooltip-left tooltip-right").addClass("tooltip-"+l.position);d(k);j.showTimer=setTimeout(function(){e(k);m.show();l.onShow.call(k,n);var p=m.children(".tooltip-arrow-outer");var o=m.children(".tooltip-arrow");var q="border-"+l.position+"-color";p.add(o).css({borderTopColor:"",borderBottomColor:"",borderLeftColor:"",borderRightColor:""});p.css(q,m.css(q));o.css(q,m.css("backgroundColor"))},l.showDelay)}function b(j,k){var l=g.data(j,"tooltip");if(l&&l.tip){d(j);l.hideTimer=setTimeout(function(){l.tip.hide();l.options.onHide.call(j,k)},l.options.hideDelay)}}function c(j,n){var l=g.data(j,"tooltip");var k=l.options;if(n){k.content=n}if(!l.tip){return}var m=typeof k.content=="function"?k.content.call(j):k.content;l.tip.children(".tooltip-content").html(m);k.onUpdate.call(j,m)}function h(l){var k=g.data(l,"tooltip");if(k){d(l);var j=k.options;if(k.tip){k.tip.remove()}if(j._title){g(l).attr("title",j._title)}g.removeData(l,"tooltip");g(l).unbind(".tooltip").removeClass("tooltip-f");j.onDestroy.call(l)}}g.fn.tooltip=function(k,j){if(typeof k=="string"){return g.fn.tooltip.methods[k](this,j)}k=k||{};return this.each(function(){var l=g.data(this,"tooltip");if(l){g.extend(l.options,k)}else{g.data(this,"tooltip",{options:g.extend({},g.fn.tooltip.defaults,g.fn.tooltip.parseOptions(this),k)});i(this)}f(this);c(this)})};g.fn.tooltip.methods={options:function(j){return g.data(j[0],"tooltip").options},tip:function(j){return g.data(j[0],"tooltip").tip},arrow:function(j){return j.tooltip("tip").children(".tooltip-arrow-outer,.tooltip-arrow")},show:function(k,j){return k.each(function(){a(this,j)})},hide:function(k,j){return k.each(function(){b(this,j)})},update:function(k,j){return k.each(function(){c(this,j)})},reposition:function(j){return j.each(function(){e(this)})},destroy:function(j){return j.each(function(){h(this)})}};g.fn.tooltip.parseOptions=function(l){var j=g(l);var k=g.extend({},g.parser.parseOptions(l,["position","showEvent","hideEvent","content",{deltaX:"number",deltaY:"number",showDelay:"number",hideDelay:"number"}]),{_title:j.attr("title")});j.attr("title","");if(!k.content){k.content=k._title}return k};g.fn.tooltip.defaults={position:"bottom",content:null,trackMouse:false,deltaX:0,deltaY:0,showEvent:"mouseenter",hideEvent:"mouseleave",showDelay:200,hideDelay:100,onShow:function(j){},onHide:function(j){},onUpdate:function(j){},onPosition:function(k,j){},onDestroy:function(){}}})(jQuery);(function($){function init(_409){$(_409).addClass("validatebox-text")}function _40a(_40b){var _40c=$.data(_40b,"validatebox");_40c.validating=false;if(_40c.timer){clearTimeout(_40c.timer)}$(_40b).tooltip("destroy");$(_40b).unbind();$(_40b).remove()}function _40d(_40e){var box=$(_40e);var _40f=$.data(_40e,"validatebox");box.unbind(".validatebox");if(_40f.options.novalidate){return}box.bind("focus.validatebox",function(){_40f.validating=true;_40f.value=undefined;(function(){if(_40f.validating){if(_40f.value!=box.val()){_40f.value=box.val();if(_40f.timer){clearTimeout(_40f.timer)}_40f.timer=setTimeout(function(){$(_40e).validatebox("validate")},_40f.options.delay)}else{_414(_40e)}setTimeout(arguments.callee,200)}})()}).bind("blur.validatebox",function(){if(_40f.timer){clearTimeout(_40f.timer);_40f.timer=undefined}_40f.validating=false;_410(_40e)}).bind("mouseenter.validatebox",function(){if(box.hasClass("validatebox-invalid")){_411(_40e)}}).bind("mouseleave.validatebox",function(){if(!_40f.validating){_410(_40e)}})}function _411(_412){var _413=$.data(_412,"validatebox");var opts=_413.options;$(_412).tooltip($.extend({},opts.tipOptions,{content:_413.message,position:opts.tipPosition,deltaX:opts.deltaX})).tooltip("show");_413.tip=true}function _414(_415){var _416=$.data(_415,"validatebox");if(_416&&_416.tip){$(_415).tooltip("reposition")}}function _410(_417){var _418=$.data(_417,"validatebox");_418.tip=false;$(_417).tooltip("hide")}function _419(_41a){var _41b=$.data(_41a,"validatebox");var opts=_41b.options;var box=$(_41a);var _41c=box.val();function _41d(msg){_41b.message=msg}function _41e(_41f){var _420=/([a-zA-Z_]+)(.*)/.exec(_41f);var rule=opts.rules[_420[1]];if(rule&&_41c){var _421=eval(_420[2]);if(!rule.validator(_41c,_421)){box.addClass("validatebox-invalid");var _422=rule.message;if(_421){for(var i=0;i<_421.length;i++){_422=_422.replace(new RegExp("\\{"+i+"\\}","g"),_421[i])}}_41d(opts.invalidMessage||_422);if(_41b.validating){_411(_41a)}return false}}return true}box.removeClass("validatebox-invalid");_410(_41a);if(opts.novalidate||box.is(":disabled")){return true}if(opts.required){if(_41c==""){box.addClass("validatebox-invalid");_41d(opts.missingMessage);if(_41b.validating){_411(_41a)}return false}}if(opts.validType){if(typeof opts.validType=="string"){if(!_41e(opts.validType)){return false}}else{for(var i=0;i<opts.validType.length;i++){if(!_41e(opts.validType[i])){return false}}}}return true}function _423(_424,_425){var opts=$.data(_424,"validatebox").options;if(_425!=undefined){opts.novalidate=_425}if(opts.novalidate){$(_424).removeClass("validatebox-invalid");_410(_424)}_40d(_424)}$.fn.validatebox=function(_426,_427){if(typeof _426=="string"){return $.fn.validatebox.methods[_426](this,_427)}_426=_426||{};return this.each(function(){var _428=$.data(this,"validatebox");if(_428){$.extend(_428.options,_426)}else{init(this);$.data(this,"validatebox",{options:$.extend({},$.fn.validatebox.defaults,$.fn.validatebox.parseOptions(this),_426)})}_423(this);_419(this)})};$.fn.validatebox.methods={options:function(jq){return $.data(jq[0],"validatebox").options},destroy:function(jq){return jq.each(function(){_40a(this)})},validate:function(jq){return jq.each(function(){_419(this)})},isValid:function(jq){return _419(jq[0])},enableValidation:function(jq){return jq.each(function(){_423(this,false)})},disableValidation:function(jq){return jq.each(function(){_423(this,true)})}};$.fn.validatebox.parseOptions=function(_429){var t=$(_429);return $.extend({},$.parser.parseOptions(_429,["validType","missingMessage","invalidMessage","tipPosition",{delay:"number",deltaX:"number"}]),{required:(t.attr("required")?true:undefined),novalidate:(t.attr("novalidate")!=undefined?true:undefined)})};$.fn.validatebox.defaults={required:false,validType:null,delay:200,missingMessage:"此字段为必填项。",invalidMessage:null,tipPosition:"right",deltaX:0,novalidate:false,tipOptions:{showEvent:"none",hideEvent:"none",showDelay:0,hideDelay:0,zIndex:"",onShow:function(){$(this).tooltip("tip").css({color:"#000",borderColor:"#CC9933",backgroundColor:"#FFFFCC"})},onHide:function(){$(this).tooltip("destroy")}},rules:{email:{validator:function(_42a){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(_42a)},message:"邮箱格式错误，正确格式如：xxx@xxx.com。"},url:{validator:function(_42b){return/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(_42b)},message:"URL格式错误，正确格式如：http://www.xxxx.com"},length:{validator:function(_42c,_42d){var len=$.trim(_42c).length;return len>=_42d[0]&&len<=_42d[1]},message:"输入内容长度必须介于{0}和{1}之间。"},remote:{validator:function(_42e,_42f){var data={};data[_42f[1]]=_42e;var _430=$.ajax({url:_42f[0],dataType:"json",data:data,async:false,cache:false,type:"post"}).responseText;return _430=="true"},message:"请修正该字段。"}}}})(jQuery);(function(d){function f(k){d(k).addClass("numberbox-f");var i=d('<input type="hidden">').insertAfter(k);var j=d(k).attr("name");if(j){i.attr("name",j);d(k).removeAttr("name").attr("numberboxName",j)}return i}function h(k){var j=d.data(k,"numberbox").options;var i=j.onChange;j.onChange=function(){};e(k,j.parser.call(k,j.value));j.onChange=i;j.originalValue=c(k)}function c(i){return d.data(i,"numberbox").field.val()}function e(k,m){var j=d.data(k,"numberbox");var l=j.options;var i=c(k);m=l.parser.call(k,m);l.value=m;j.field.val(m);d(k).val(l.formatter.call(k,m));if(i!=m){l.onChange.call(k,m,i)}}function b(i){var j=d.data(i,"numberbox").options;d(i).unbind(".numberbox").bind("keypress.numberbox",function(k){return j.filter.call(i,k)}).bind("blur.numberbox",function(){e(i,d(this).val());d(this).val(j.formatter.call(i,c(i)))}).bind("focus.numberbox",function(){var k=c(i);if(k!=j.parser.call(i,d(this).val())){d(this).val(j.formatter.call(i,k))}})}function a(i){if(d.fn.validatebox){var j=d.data(i,"numberbox").options;d(i).validatebox(j)}}function g(k,j){var i=d.data(k,"numberbox").options;if(j){i.disabled=true;d(k).attr("disabled",true)}else{i.disabled=false;d(k).removeAttr("disabled")}}d.fn.numberbox=function(j,i){if(typeof j=="string"){var k=d.fn.numberbox.methods[j];if(k){return k(this,i)}else{return this.validatebox(j,i)}}j=j||{};return this.each(function(){var l=d.data(this,"numberbox");if(l){d.extend(l.options,j)}else{l=d.data(this,"numberbox",{options:d.extend({},d.fn.numberbox.defaults,d.fn.numberbox.parseOptions(this),j),field:f(this)});d(this).removeAttr("disabled");d(this).css({imeMode:"disabled"})}g(this,l.options.disabled);b(this);a(this);h(this)})};d.fn.numberbox.methods={options:function(i){return d.data(i[0],"numberbox").options},destroy:function(i){return i.each(function(){d.data(this,"numberbox").field.remove();d(this).validatebox("destroy");d(this).remove()})},disable:function(i){return i.each(function(){g(this,true)})},enable:function(i){return i.each(function(){g(this,false)})},fix:function(i){return i.each(function(){e(this,d(this).val())})},setValue:function(j,i){return j.each(function(){e(this,i)})},getValue:function(i){return c(i[0])},clear:function(i){return i.each(function(){var j=d.data(this,"numberbox");j.field.val("");d(this).val("")})},reset:function(i){return i.each(function(){var j=d(this).numberbox("options");d(this).numberbox("setValue",j.originalValue)})}};d.fn.numberbox.parseOptions=function(j){var i=d(j);return d.extend({},d.fn.validatebox.parseOptions(j),d.parser.parseOptions(j,["decimalSeparator","groupSeparator","suffix",{min:"number",max:"number",precision:"number"}]),{prefix:(i.attr("prefix")?i.attr("prefix"):undefined),disabled:(i.attr("disabled")?true:undefined),value:(i.val()||undefined)})};d.fn.numberbox.defaults=d.extend({},d.fn.validatebox.defaults,{disabled:false,value:"",min:null,max:null,precision:0,decimalSeparator:".",groupSeparator:"",prefix:"",suffix:"",filter:function(j){var i=d(this).numberbox("options");if(j.which==45){return(d(this).val().indexOf("-")==-1?true:false)}var k=String.fromCharCode(j.which);if(k==i.decimalSeparator){return(d(this).val().indexOf(k)==-1?true:false)}else{if(k==i.groupSeparator){return true}else{if((j.which>=48&&j.which<=57&&j.ctrlKey==false&&j.shiftKey==false)||j.which==0||j.which==8){return true}else{if(j.ctrlKey==true&&(j.which==99||j.which==118)){return true}else{return false}}}}},formatter:function(m){if(!m){return m}m=m+"";var k=d(this).numberbox("options");var j=m,i="";var l=m.indexOf(".");if(l>=0){j=m.substring(0,l);i=m.substring(l+1,m.length)}if(k.groupSeparator){var n=/(\d+)(\d{3})/;while(n.test(j)){j=j.replace(n,"$1"+k.groupSeparator+"$2")}}if(i){return k.prefix+j+k.decimalSeparator+i+k.suffix}else{return k.prefix+j+k.suffix}},parser:function(i){i=i+"";var j=d(this).numberbox("options");if(parseFloat(i)!=i){if(j.prefix){i=d.trim(i.replace(new RegExp("\\"+d.trim(j.prefix),"g"),""))}if(j.suffix){i=d.trim(i.replace(new RegExp("\\"+d.trim(j.suffix),"g"),""))}if(j.groupSeparator){i=d.trim(i.replace(new RegExp("\\"+j.groupSeparator,"g"),""))}if(j.decimalSeparator){i=d.trim(i.replace(new RegExp("\\"+j.decimalSeparator,"g"),"."))}i=i.replace(/\s/g,"")}var k=parseFloat(i).toFixed(j.precision);if(isNaN(k)){k=""}else{if(typeof(j.min)=="number"&&k<j.min){k=j.min.toFixed(j.precision)}else{if(typeof(j.max)=="number"&&k>j.max){k=j.max.toFixed(j.precision)}}}return k},onChange:function(j,i){}})})(jQuery);$.extend({submitValidate:function(g,b){if($.fn.validatebox){var d=$(g);var a="";if(b){if(""!=$.trim(b)){var f=b.split(",");for(var c=0;c<f.length;c++){a+=":not(#"+f[c]+")"}}}try{d.find(".validatebox-text:not(:disabled)"+a).validatebox("validate")}catch(j){}var h=d.find(".validatebox-invalid"+a);h.filter(":not(:disabled):first").focus();return h.length==0}return true}});